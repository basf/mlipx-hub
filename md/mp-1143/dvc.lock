schema: '2.0'
stages:
  initialize_Smiles2Conformers:
    cmd: zntrack run mlipx.nodes.smiles.Smiles2Conformers --name initialize_Smiles2Conformers
    params:
      params.yaml:
        initialize_Smiles2Conformers:
          max_attempts: 1000
          num_confs: 10
          random_seed: 42
          smiles: CCO
    outs:
    - path: nodes/initialize/Smiles2Conformers/frames.xyz
      hash: md5
      md5: 53394445966d0686e33c9b2c42ecc2a7
      size: 5310
    - path: nodes/initialize/Smiles2Conformers/node-meta.json
      hash: md5
      md5: dedc1b93725ea283545173e31504757e
      size: 64
  initialize_BuildBox:
    cmd: zntrack run mlipx.nodes.smiles.BuildBox --name initialize_BuildBox
    deps:
    - path: nodes/initialize/Smiles2Conformers/frames.xyz
      hash: md5
      md5: 53394445966d0686e33c9b2c42ecc2a7
      size: 5310
    params:
      params.yaml:
        initialize_BuildBox:
          counts:
          - 10
          density: 789
    outs:
    - path: nodes/initialize/BuildBox/frames.xyz
      hash: md5
      md5: f48873046e8808c1a50c29ad6481175a
      size: 9570
    - path: nodes/initialize/BuildBox/node-meta.json
      hash: md5
      md5: 3c1804f8e73fdb2d65fef50e135aaff7
      size: 64
  7net_MolecularDynamics:
    cmd: zntrack run mlipx.nodes.molecular_dynamics.MolecularDynamics --name 7net_MolecularDynamics
    deps:
    - path: nodes/initialize/BuildBox/frames.xyz
      hash: md5
      md5: f48873046e8808c1a50c29ad6481175a
      size: 9570
    params:
      params.yaml:
        7net_MolecularDynamics:
          data_id: -1
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: SevenNetCalculator
            device: auto
            kwargs:
              model: 7net-0
            module: sevenn.sevennet_calculator
          steps: 100
          thermostat:
            _cls: mlipx.nodes.molecular_dynamics.LangevinConfig
            friction: 0.05
            temperature: 300
            timestep: 0.5
    outs:
    - path: nodes/7net/MolecularDynamics/frames.xyz
      hash: md5
      md5: 7a0f19a4d20af64365f3df992ff13476
      size: 2069641
    - path: nodes/7net/MolecularDynamics/node-meta.json
      hash: md5
      md5: 60e70692cfbdd3b3a8258299a8533994
      size: 64
    - path: nodes/7net/MolecularDynamics/observer_metrics.json
      hash: md5
      md5: 99914b932bd37a50b983c5e7c90ae93b
      size: 2
    - path: nodes/7net/MolecularDynamics/plots.csv
      hash: md5
      md5: a685efe115be6deba2098b09a7aa4616
      size: 19
  mace_agne_MolecularDynamics:
    cmd: zntrack run mlipx.nodes.molecular_dynamics.MolecularDynamics --name mace_agne_MolecularDynamics
    deps:
    - path: nodes/initialize/BuildBox/frames.xyz
      hash: md5
      md5: f48873046e8808c1a50c29ad6481175a
      size: 9570
    params:
      params.yaml:
        mace_agne_MolecularDynamics:
          data_id: -1
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: MACECalculator
            device: auto
            kwargs:
              model_paths: ../models/mace_agnesi.model
            module: mace.calculators
          steps: 100
          thermostat:
            _cls: mlipx.nodes.molecular_dynamics.LangevinConfig
            friction: 0.05
            temperature: 300
            timestep: 0.5
    outs:
    - path: nodes/mace_agne/MolecularDynamics/frames.xyz
      hash: md5
      md5: edf6827754053e2d90b448eb9537efa1
      size: 1913821
    - path: nodes/mace_agne/MolecularDynamics/node-meta.json
      hash: md5
      md5: 3313af7ea2b6bea10785a21853387eb8
      size: 64
    - path: nodes/mace_agne/MolecularDynamics/observer_metrics.json
      hash: md5
      md5: 99914b932bd37a50b983c5e7c90ae93b
      size: 2
    - path: nodes/mace_agne/MolecularDynamics/plots.csv
      hash: md5
      md5: a685efe115be6deba2098b09a7aa4616
      size: 19
  mace_medm_MolecularDynamics:
    cmd: zntrack run mlipx.nodes.molecular_dynamics.MolecularDynamics --name mace_medm_MolecularDynamics
    deps:
    - path: nodes/initialize/BuildBox/frames.xyz
      hash: md5
      md5: f48873046e8808c1a50c29ad6481175a
      size: 9570
    params:
      params.yaml:
        mace_medm_MolecularDynamics:
          data_id: -1
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: MACECalculator
            device: auto
            kwargs:
              model_paths: ../models/mace_medium.model
            module: mace.calculators
          steps: 100
          thermostat:
            _cls: mlipx.nodes.molecular_dynamics.LangevinConfig
            friction: 0.05
            temperature: 300
            timestep: 0.5
    outs:
    - path: nodes/mace_medm/MolecularDynamics/frames.xyz
      hash: md5
      md5: 6763a62203d3dcf48a59b5a0a56278d6
      size: 1913854
    - path: nodes/mace_medm/MolecularDynamics/node-meta.json
      hash: md5
      md5: 49098c3e846aa65d19ab6d6f6640f7c8
      size: 64
    - path: nodes/mace_medm/MolecularDynamics/observer_metrics.json
      hash: md5
      md5: 99914b932bd37a50b983c5e7c90ae93b
      size: 2
    - path: nodes/mace_medm/MolecularDynamics/plots.csv
      hash: md5
      md5: a685efe115be6deba2098b09a7aa4616
      size: 19
  initialize_MPRester:
    cmd: zntrack run mlipx.nodes.mp_api.MPRester --name initialize_MPRester
    params:
      params.yaml:
        initialize_MPRester:
          search_kwargs:
            material_ids:
            - mp-1143
    outs:
    - path: nodes/initialize/MPRester/frames.xyz
      hash: md5
      md5: 1dff3683312a393372916dab5153c30e
      size: 879
    - path: nodes/initialize/MPRester/node-meta.json
      hash: md5
      md5: d8dd39caabe5d758e40c6f34b1b06a34
      size: 154
  orb_v2_0_MolecularDynamics:
    cmd: zntrack run mlipx.nodes.molecular_dynamics.MolecularDynamics --name orb_v2_0_MolecularDynamics
    deps:
    - path: nodes/initialize/MPRester/frames.xyz
      hash: md5
      md5: 1dff3683312a393372916dab5153c30e
      size: 879
    params:
      params.yaml:
        orb_v2_0_MolecularDynamics:
          data_id: -1
          model:
            _cls: models.OrbCalc
            device: auto
            name: orb_v2
          modifiers:
          - _cls: mlipx.nodes.modifier.TemperatureRampModifier
            end_temperature: 400
            interval: 1
            start_temperature:
            total_steps: 100
          observers:
          - _cls: mlipx.nodes.observer.MaximumForceObserver
            f_max: 100
          steps: 1000
          thermostat:
            _cls: mlipx.nodes.molecular_dynamics.LangevinConfig
            friction: 0.05
            temperature: 300
            timestep: 0.5
    outs:
    - path: nodes/orb_v2/0/MolecularDynamics/frames.xyz
      hash: md5
      md5: a1af128cc3fd4f6c1599f70fbd5529a6
      size: 2192780
    - path: nodes/orb_v2/0/MolecularDynamics/node-meta.json
      hash: md5
      md5: 8fffbd456f99146c4a349a73661c4bc4
      size: 155
    - path: nodes/orb_v2/0/MolecularDynamics/observer_metrics.json
      hash: md5
      md5: 99d1bc2c8fde362f1c1b8ccf64ceac4c
      size: 28
    - path: nodes/orb_v2/0/MolecularDynamics/plots.csv
      hash: md5
      md5: 410bd97e45ee6cddcd424d70ed2a5ac7
      size: 42200
  mace_mp_0_MolecularDynamics:
    cmd: zntrack run mlipx.nodes.molecular_dynamics.MolecularDynamics --name mace_mp_0_MolecularDynamics
    deps:
    - path: nodes/initialize/MPRester/frames.xyz
      hash: md5
      md5: 1dff3683312a393372916dab5153c30e
      size: 879
    params:
      params.yaml:
        mace_mp_0_MolecularDynamics:
          data_id: -1
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: mace_mp
            device: auto
            kwargs:
              model: medium
            module: mace.calculators
          modifiers:
          - _cls: mlipx.nodes.modifier.TemperatureRampModifier
            end_temperature: 400
            interval: 1
            start_temperature:
            total_steps: 100
          observers:
          - _cls: mlipx.nodes.observer.MaximumForceObserver
            f_max: 100
          steps: 1000
          thermostat:
            _cls: mlipx.nodes.molecular_dynamics.LangevinConfig
            friction: 0.05
            temperature: 300
            timestep: 0.5
    outs:
    - path: nodes/mace_mp/0/MolecularDynamics/frames.xyz
      hash: md5
      md5: e4f8c18d289af4f945411880139392e8
      size: 2184579
    - path: nodes/mace_mp/0/MolecularDynamics/node-meta.json
      hash: md5
      md5: 329e418e87a38757bc680e85ef670a2e
      size: 155
    - path: nodes/mace_mp/0/MolecularDynamics/observer_metrics.json
      hash: md5
      md5: 99d1bc2c8fde362f1c1b8ccf64ceac4c
      size: 28
    - path: nodes/mace_mp/0/MolecularDynamics/plots.csv
      hash: md5
      md5: 00ebeb96dd55ffe8e67b59a75faeff41
      size: 42247
  chgnet_0_MolecularDynamics:
    cmd: zntrack run mlipx.nodes.molecular_dynamics.MolecularDynamics --name chgnet_0_MolecularDynamics
    deps:
    - path: nodes/initialize/MPRester/frames.xyz
      hash: md5
      md5: 1dff3683312a393372916dab5153c30e
      size: 879
    params:
      params.yaml:
        chgnet_0_MolecularDynamics:
          data_id: -1
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: CHGNetCalculator
            device:
            kwargs:
            module: chgnet.model
          modifiers:
          - _cls: mlipx.nodes.modifier.TemperatureRampModifier
            end_temperature: 400
            interval: 1
            start_temperature:
            total_steps: 100
          observers:
          - _cls: mlipx.nodes.observer.MaximumForceObserver
            f_max: 100
          steps: 1000
          thermostat:
            _cls: mlipx.nodes.molecular_dynamics.LangevinConfig
            friction: 0.05
            temperature: 300
            timestep: 0.5
    outs:
    - path: nodes/chgnet/0/MolecularDynamics/frames.xyz
      hash: md5
      md5: a85b122027c6e57dc7ff285eeb1abf1f
      size: 2367750
    - path: nodes/chgnet/0/MolecularDynamics/node-meta.json
      hash: md5
      md5: 66b979a9372a026c0d95974c23d3d947
      size: 155
    - path: nodes/chgnet/0/MolecularDynamics/observer_metrics.json
      hash: md5
      md5: 99d1bc2c8fde362f1c1b8ccf64ceac4c
      size: 28
    - path: nodes/chgnet/0/MolecularDynamics/plots.csv
      hash: md5
      md5: b3eac924243a9e2d9ae0b5907909ace6
      size: 42340
  sevennet_0_MolecularDynamics:
    cmd: zntrack run mlipx.nodes.molecular_dynamics.MolecularDynamics --name sevennet_0_MolecularDynamics
    deps:
    - path: nodes/initialize/MPRester/frames.xyz
      hash: md5
      md5: 1dff3683312a393372916dab5153c30e
      size: 879
    params:
      params.yaml:
        sevennet_0_MolecularDynamics:
          data_id: -1
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: SevenNetCalculator
            device: auto
            kwargs:
              model: 7net-0
            module: sevenn.sevennet_calculator
          modifiers:
          - _cls: mlipx.nodes.modifier.TemperatureRampModifier
            end_temperature: 400
            interval: 1
            start_temperature:
            total_steps: 100
          observers:
          - _cls: mlipx.nodes.observer.MaximumForceObserver
            f_max: 100
          steps: 1000
          thermostat:
            _cls: mlipx.nodes.molecular_dynamics.LangevinConfig
            friction: 0.05
            temperature: 300
            timestep: 0.5
    outs:
    - path: nodes/sevennet/0/MolecularDynamics/frames.xyz
      hash: md5
      md5: c06ab62a263e167cd1c0822b300dbe46
      size: 2368532
    - path: nodes/sevennet/0/MolecularDynamics/node-meta.json
      hash: md5
      md5: d3e1de64c07cd93fc6da740921377998
      size: 155
    - path: nodes/sevennet/0/MolecularDynamics/observer_metrics.json
      hash: md5
      md5: 99d1bc2c8fde362f1c1b8ccf64ceac4c
      size: 28
    - path: nodes/sevennet/0/MolecularDynamics/plots.csv
      hash: md5
      md5: 83cff175b85d286834e81b8f3e10fc90
      size: 42171
  mattersim_0_MolecularDynamics:
    cmd: zntrack run mlipx.nodes.molecular_dynamics.MolecularDynamics --name mattersim_0_MolecularDynamics
    deps:
    - path: nodes/initialize/MPRester/frames.xyz
      hash: md5
      md5: 1dff3683312a393372916dab5153c30e
      size: 879
    params:
      params.yaml:
        mattersim_0_MolecularDynamics:
          data_id: -1
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: MatterSimCalculator
            device: auto
            kwargs:
            module: mattersim.forcefield
          modifiers:
          - _cls: mlipx.nodes.modifier.TemperatureRampModifier
            end_temperature: 400
            interval: 1
            start_temperature:
            total_steps: 100
          observers:
          - _cls: mlipx.nodes.observer.MaximumForceObserver
            f_max: 100
          steps: 1000
          thermostat:
            _cls: mlipx.nodes.molecular_dynamics.LangevinConfig
            friction: 0.05
            temperature: 300
            timestep: 0.5
    outs:
    - path: nodes/mattersim/0/MolecularDynamics/frames.xyz
      hash: md5
      md5: ffe95d4c148be264e1d64621f8c68b62
      size: 2184838
    - path: nodes/mattersim/0/MolecularDynamics/node-meta.json
      hash: md5
      md5: 6f909dce815acc0648b71a6c41a520f3
      size: 153
    - path: nodes/mattersim/0/MolecularDynamics/observer_metrics.json
      hash: md5
      md5: 99d1bc2c8fde362f1c1b8ccf64ceac4c
      size: 28
    - path: nodes/mattersim/0/MolecularDynamics/plots.csv
      hash: md5
      md5: e9d339e13f2b5511bdcb0e7da391c3cf
      size: 33614
