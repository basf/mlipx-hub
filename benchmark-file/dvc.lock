schema: '2.0'
stages:
  mptraj_LoadDataFile:
    cmd: zntrack run mlipx.nodes.io.LoadDataFile --name mptraj_LoadDataFile
    deps:
    - path: ../data/mp_data_mp-771359.extxyz
      hash: md5
      md5: 01a149c659635079e677128fbe82d06f
      size: 3000
    params:
      params.yaml:
        mptraj_LoadDataFile:
          start: 0
          step: 1
          stop:
    outs:
    - path: nodes/mptraj/LoadDataFile/node-meta.json
      hash: md5
      md5: 18e8a897f5e9091b19c953dbe8b6239c
      size: 64
  7net_struct_optim_0_StructureOptimization:
    cmd: zntrack run mlipx.nodes.structure_optimization.StructureOptimization --name
      7net_struct_optim_0_StructureOptimization
    deps:
    - path: nodes/rattle/Rattle/frames.xyz
      hash: md5
      md5: 6ced6755d7804a6adfe7a8d64f49c6b9
      size: 3000
    params:
      params.yaml:
        7net_struct_optim_0_StructureOptimization:
          data_id: 0
          fmax: 0.1
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: SevenNetCalculator
            device: auto
            kwargs:
              model: 7net-0
            module: sevenn.sevennet_calculator
          optimizer: LBFGS
          steps: 100000000
    outs:
    - path: nodes/7net/struct_optim/0/StructureOptimization/frames.traj
      hash: md5
      md5: 242d844442a91fb629911b52f492534a
      size: 16114
    - path: nodes/7net/struct_optim/0/StructureOptimization/node-meta.json
      hash: md5
      md5: bfc2ad67c8057de9f878ae1a708e930c
      size: 64
    - path: nodes/7net/struct_optim/0/StructureOptimization/plots.csv
      hash: md5
      md5: dc91d3066f59caed87d6790c3ca3aed2
      size: 215
  7net_md_0_MolecularDynamics:
    cmd: zntrack run mlipx.nodes.molecular_dynamics.MolecularDynamics --name 7net_md_0_MolecularDynamics
    deps:
    - path: nodes/mptraj/LoadDataFile/node-meta.json
      hash: md5
      md5: 18e8a897f5e9091b19c953dbe8b6239c
      size: 64
    params:
      params.yaml:
        7net_md_0_MolecularDynamics:
          data_id: 0
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: SevenNetCalculator
            device: auto
            kwargs:
              model: 7net-0
            module: sevenn.sevennet_calculator
          modifiers:
          - _cls: mlipx.nodes.modifier.TemperatureRampModifier
            end_temperature: 400
            interval: 1
            start_temperature:
            total_steps: 100
          observers:
          - _cls: mlipx.nodes.observer.MaximumForceObserver
            f_max: 100
          steps: 100
          thermostat:
            _cls: mlipx.nodes.molecular_dynamics.LangevinConfig
            friction: 0.05
            temperature: 300
            timestep: 0.5
    outs:
    - path: nodes/7net/md/0/MolecularDynamics/frames.xyz
      hash: md5
      md5: 6b7f3138e9c52d97b40c5121f28381cb
      size: 814518
    - path: nodes/7net/md/0/MolecularDynamics/node-meta.json
      hash: md5
      md5: f57c68efc059d5519675f68aa337a076
      size: 64
    - path: nodes/7net/md/0/MolecularDynamics/observer_metrics.json
      hash: md5
      md5: 99d1bc2c8fde362f1c1b8ccf64ceac4c
      size: 28
    - path: nodes/7net/md/0/MolecularDynamics/plots.csv
      hash: md5
      md5: a685efe115be6deba2098b09a7aa4616
      size: 19
  mace_agne_struct_optim_0_StructureOptimization:
    cmd: zntrack run mlipx.nodes.structure_optimization.StructureOptimization --name
      mace_agne_struct_optim_0_StructureOptimization
    deps:
    - path: nodes/rattle/Rattle/frames.xyz
      hash: md5
      md5: 6ced6755d7804a6adfe7a8d64f49c6b9
      size: 3000
    params:
      params.yaml:
        mace_agne_struct_optim_0_StructureOptimization:
          data_id: 0
          fmax: 0.1
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: MACECalculator
            device: auto
            kwargs:
              model_paths: ../models/mace_agnesi.model
            module: mace.calculators
          optimizer: LBFGS
          steps: 100000000
    outs:
    - path: nodes/mace_agne/struct_optim/0/StructureOptimization/frames.traj
      hash: md5
      md5: 0d013cac5cfec262db5dd95abdbb56b3
      size: 9298
    - path: nodes/mace_agne/struct_optim/0/StructureOptimization/node-meta.json
      hash: md5
      md5: bc8f3460d25d3740d538baaefed6ce15
      size: 64
    - path: nodes/mace_agne/struct_optim/0/StructureOptimization/plots.csv
      hash: md5
      md5: 77607294e91def7f005ff1227341206c
      size: 141
  mace_agne_md_0_MolecularDynamics:
    cmd: zntrack run mlipx.nodes.molecular_dynamics.MolecularDynamics --name mace_agne_md_0_MolecularDynamics
    deps:
    - path: nodes/mptraj/LoadDataFile/node-meta.json
      hash: md5
      md5: 18e8a897f5e9091b19c953dbe8b6239c
      size: 64
    params:
      params.yaml:
        mace_agne_md_0_MolecularDynamics:
          data_id: 0
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: MACECalculator
            device: auto
            kwargs:
              model_paths: ../models/mace_agnesi.model
            module: mace.calculators
          modifiers:
          - _cls: mlipx.nodes.modifier.TemperatureRampModifier
            end_temperature: 400
            interval: 1
            start_temperature:
            total_steps: 100
          observers:
          - _cls: mlipx.nodes.observer.MaximumForceObserver
            f_max: 100
          steps: 100
          thermostat:
            _cls: mlipx.nodes.molecular_dynamics.LangevinConfig
            friction: 0.05
            temperature: 300
            timestep: 0.5
    outs:
    - path: nodes/mace_agne/md/0/MolecularDynamics/frames.xyz
      hash: md5
      md5: 5f44f563b3310490227d92c8b800da01
      size: 744457
    - path: nodes/mace_agne/md/0/MolecularDynamics/node-meta.json
      hash: md5
      md5: 3f6f0bdebff007e4492c2ccd566e8fc3
      size: 64
    - path: nodes/mace_agne/md/0/MolecularDynamics/observer_metrics.json
      hash: md5
      md5: 99d1bc2c8fde362f1c1b8ccf64ceac4c
      size: 28
    - path: nodes/mace_agne/md/0/MolecularDynamics/plots.csv
      hash: md5
      md5: a685efe115be6deba2098b09a7aa4616
      size: 19
  mace_agne_struct_optim_2_0_StructureOptimization:
    cmd: zntrack run mlipx.nodes.structure_optimization.StructureOptimization --name
      mace_agne_struct_optim_2_0_StructureOptimization
    deps:
    - path: nodes/mace_agne/md/0/MolecularDynamics/frames.xyz
      hash: md5
      md5: 346d5d3cb32a389d930a3a18067e6cbb
      size: 744326
    - path: nodes/mace_agne/md/0/MolecularDynamics/observer_metrics.json
      hash: md5
      md5: 99d1bc2c8fde362f1c1b8ccf64ceac4c
      size: 28
    - path: nodes/mace_agne/md/0/MolecularDynamics/plots.csv
      hash: md5
      md5: a685efe115be6deba2098b09a7aa4616
      size: 19
    params:
      params.yaml:
        mace_agne_struct_optim_2_0_StructureOptimization:
          data_id: -1
          fmax: 0.1
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: MACECalculator
            device: auto
            kwargs:
              model_paths: ../models/mace_agnesi.model
            module: mace.calculators
          optimizer: LBFGS
          steps: 100000000
    outs:
    - path: nodes/mace_agne/struct_optim_2/0/StructureOptimization/frames.traj
      hash: md5
      md5: 55f9d90e4bb2648f282ab05038c5f87a
      size: 39014
    - path: nodes/mace_agne/struct_optim_2/0/StructureOptimization/node-meta.json
      hash: md5
      md5: 886f1e144b83e36b93ce252937a5bfa3
      size: 64
    - path: nodes/mace_agne/struct_optim_2/0/StructureOptimization/plots.csv
      hash: md5
      md5: bfecf4e606da6ebedc6206e678469259
      size: 427
  mace_medm_struct_optim_0_StructureOptimization:
    cmd: zntrack run mlipx.nodes.structure_optimization.StructureOptimization --name
      mace_medm_struct_optim_0_StructureOptimization
    deps:
    - path: nodes/rattle/Rattle/frames.xyz
      hash: md5
      md5: 6ced6755d7804a6adfe7a8d64f49c6b9
      size: 3000
    params:
      params.yaml:
        mace_medm_struct_optim_0_StructureOptimization:
          data_id: 0
          fmax: 0.1
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: MACECalculator
            device: auto
            kwargs:
              model_paths: ../models/mace_medium.model
            module: mace.calculators
          optimizer: LBFGS
          steps: 100000000
    outs:
    - path: nodes/mace_medm/struct_optim/0/StructureOptimization/frames.traj
      hash: md5
      md5: ffda54f2e3070558c14d4058148d62b4
      size: 26100
    - path: nodes/mace_medm/struct_optim/0/StructureOptimization/node-meta.json
      hash: md5
      md5: 048ef4444d00bc37c22d23ac48f88097
      size: 64
    - path: nodes/mace_medm/struct_optim/0/StructureOptimization/plots.csv
      hash: md5
      md5: eeac81068301d84146feef463e0826ad
      size: 391
  mace_medm_md_0_MolecularDynamics:
    cmd: zntrack run mlipx.nodes.molecular_dynamics.MolecularDynamics --name mace_medm_md_0_MolecularDynamics
    deps:
    - path: nodes/mptraj/LoadDataFile/node-meta.json
      hash: md5
      md5: 18e8a897f5e9091b19c953dbe8b6239c
      size: 64
    params:
      params.yaml:
        mace_medm_md_0_MolecularDynamics:
          data_id: 0
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: MACECalculator
            device: auto
            kwargs:
              model_paths: ../models/mace_medium.model
            module: mace.calculators
          modifiers:
          - _cls: mlipx.nodes.modifier.TemperatureRampModifier
            end_temperature: 400
            interval: 1
            start_temperature:
            total_steps: 100
          observers:
          - _cls: mlipx.nodes.observer.MaximumForceObserver
            f_max: 100
          steps: 100
          thermostat:
            _cls: mlipx.nodes.molecular_dynamics.LangevinConfig
            friction: 0.05
            temperature: 300
            timestep: 0.5
    outs:
    - path: nodes/mace_medm/md/0/MolecularDynamics/frames.xyz
      hash: md5
      md5: 28ca43b4b1e53083b19ac2e0f30f416c
      size: 744377
    - path: nodes/mace_medm/md/0/MolecularDynamics/node-meta.json
      hash: md5
      md5: dd8664b6f63e7bd0d9b1467fb29dc151
      size: 64
    - path: nodes/mace_medm/md/0/MolecularDynamics/observer_metrics.json
      hash: md5
      md5: 99d1bc2c8fde362f1c1b8ccf64ceac4c
      size: 28
    - path: nodes/mace_medm/md/0/MolecularDynamics/plots.csv
      hash: md5
      md5: a685efe115be6deba2098b09a7aa4616
      size: 19
  mace_medm_ev_0_EnergyVolumeCurve:
    cmd: zntrack run mlipx.nodes.energy_volume.EnergyVolumeCurve --name mace_medm_ev_0_EnergyVolumeCurve
    deps:
    - path: nodes/mptraj/LoadDataFile/node-meta.json
      hash: md5
      md5: 18e8a897f5e9091b19c953dbe8b6239c
      size: 64
    params:
      params.yaml:
        mace_medm_ev_0_EnergyVolumeCurve:
          data_id: 0
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: MACECalculator
            device: auto
            kwargs:
              model_paths: ../models/mace_medium.model
            module: mace.calculators
          n_points: 50
          start: 0.75
          stop: 2.0
    outs:
    - path: nodes/mace_medm/ev/0/EnergyVolumeCurve/frames.xyz
      hash: md5
      md5: fe7e89932f43bb8ab44af28bc3e6a5eb
      size: 269581
    - path: nodes/mace_medm/ev/0/EnergyVolumeCurve/node-meta.json
      hash: md5
      md5: 62c24ad6a4496612525dd4471eba558c
      size: 64
    - path: nodes/mace_medm/ev/0/EnergyVolumeCurve/results.csv
      hash: md5
      md5: 5084d2bffbe7b52d3baba6b4bb3c372a
      size: 3933
  mace_medm_struct_optim_2_0_StructureOptimization:
    cmd: zntrack run mlipx.nodes.structure_optimization.StructureOptimization --name
      mace_medm_struct_optim_2_0_StructureOptimization
    deps:
    - path: nodes/mace_medm/md/0/MolecularDynamics/frames.xyz
      hash: md5
      md5: a3731f8313a844c07666595fae65c07f
      size: 744379
    - path: nodes/mace_medm/md/0/MolecularDynamics/observer_metrics.json
      hash: md5
      md5: 99d1bc2c8fde362f1c1b8ccf64ceac4c
      size: 28
    - path: nodes/mace_medm/md/0/MolecularDynamics/plots.csv
      hash: md5
      md5: a685efe115be6deba2098b09a7aa4616
      size: 19
    params:
      params.yaml:
        mace_medm_struct_optim_2_0_StructureOptimization:
          data_id: -1
          fmax: 0.1
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: MACECalculator
            device: auto
            kwargs:
              model_paths: ../models/mace_medium.model
            module: mace.calculators
          optimizer: LBFGS
          steps: 100000000
    outs:
    - path: nodes/mace_medm/struct_optim_2/0/StructureOptimization/frames.traj
      hash: md5
      md5: 8cd775ee57200d03d9d4dcd14ce01d12
      size: 39033
    - path: nodes/mace_medm/struct_optim_2/0/StructureOptimization/node-meta.json
      hash: md5
      md5: 770eb233cfd4d0dba5654da78cf17903
      size: 64
    - path: nodes/mace_medm/struct_optim_2/0/StructureOptimization/plots.csv
      hash: md5
      md5: d1ad9007914033c76dd80351c27eb162
      size: 430
  7net_diatomics_HomonuclearDiatomics:
    cmd: zntrack run mlipx.nodes.diatomics.HomonuclearDiatomics --name 7net_diatomics_HomonuclearDiatomics
    params:
      params.yaml:
        7net_diatomics_HomonuclearDiatomics:
          elements:
          - O
          - Cu
          eq_distance: covalent-radiuis
          max_distance: 2.0
          min_distance: 0.5
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: SevenNetCalculator
            device: auto
            kwargs:
              model: 7net-0
            module: sevenn.sevennet_calculator
          n_points: 100
    outs:
    - path: nodes/7net/diatomics/HomonuclearDiatomics/frames.json
      hash: md5
      md5: 9ae5648637f6b6850eb101f5b38109a5
      size: 422600
    - path: nodes/7net/diatomics/HomonuclearDiatomics/node-meta.json
      hash: md5
      md5: ed98109afabaca28daf6670242465e2d
      size: 64
    - path: nodes/7net/diatomics/HomonuclearDiatomics/results.csv
      hash: md5
      md5: edf69a8329baf5408695c1aad2b8b4ea
      size: 5453
  mace_agne_diatomics_HomonuclearDiatomics:
    cmd: zntrack run mlipx.nodes.diatomics.HomonuclearDiatomics --name mace_agne_diatomics_HomonuclearDiatomics
    params:
      params.yaml:
        mace_agne_diatomics_HomonuclearDiatomics:
          elements:
          - O
          - Cu
          eq_distance: covalent-radiuis
          max_distance: 2.0
          min_distance: 0.5
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: MACECalculator
            device: auto
            kwargs:
              model_paths: ../models/mace_agnesi.model
            module: mace.calculators
          n_points: 100
    outs:
    - path: nodes/mace_agne/diatomics/HomonuclearDiatomics/frames.json
      hash: md5
      md5: 79f1b6118ce4133ca212586f06de97cd
      size: 429000
    - path: nodes/mace_agne/diatomics/HomonuclearDiatomics/node-meta.json
      hash: md5
      md5: b044e79dc7651bcebb5711ce73c0a2e9
      size: 64
    - path: nodes/mace_agne/diatomics/HomonuclearDiatomics/results.csv
      hash: md5
      md5: 86e3f6e60d9b4c32a70c55b4c430a254
      size: 5433
  mace_medm_diatomics_HomonuclearDiatomics:
    cmd: zntrack run mlipx.nodes.diatomics.HomonuclearDiatomics --name mace_medm_diatomics_HomonuclearDiatomics
    params:
      params.yaml:
        mace_medm_diatomics_HomonuclearDiatomics:
          elements:
          - O
          - Cu
          eq_distance: covalent-radiuis
          max_distance: 2.0
          min_distance: 0.5
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: MACECalculator
            device: auto
            kwargs:
              model_paths: ../models/mace_medium.model
            module: mace.calculators
          n_points: 100
    outs:
    - path: nodes/mace_medm/diatomics/HomonuclearDiatomics/frames.json
      hash: md5
      md5: 366102ac17f1c629b7cd9742728a1f83
      size: 429000
    - path: nodes/mace_medm/diatomics/HomonuclearDiatomics/node-meta.json
      hash: md5
      md5: 44ad7e80f87d6d2d2785875c24c7b38b
      size: 64
    - path: nodes/mace_medm/diatomics/HomonuclearDiatomics/results.csv
      hash: md5
      md5: 7f091cf4fae56bf02fe8bdb28e76be18
      size: 5471
  7net_ev_0_EnergyVolumeCurve:
    cmd: zntrack run mlipx.nodes.energy_volume.EnergyVolumeCurve --name 7net_ev_0_EnergyVolumeCurve
    deps:
    - path: nodes/mptraj/LoadDataFile/node-meta.json
      hash: md5
      md5: 18e8a897f5e9091b19c953dbe8b6239c
      size: 64
    params:
      params.yaml:
        7net_ev_0_EnergyVolumeCurve:
          data_id: 0
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: SevenNetCalculator
            device: auto
            kwargs:
              model: 7net-0
            module: sevenn.sevennet_calculator
          n_points: 50
          start: 0.75
          stop: 2.0
    outs:
    - path: nodes/7net/ev/0/EnergyVolumeCurve/frames.xyz
      hash: md5
      md5: da7b5333c4d9e56221ec744aca68f594
      size: 304207
    - path: nodes/7net/ev/0/EnergyVolumeCurve/node-meta.json
      hash: md5
      md5: 557ea2d9eb4a257fbae70b3a4d3138ff
      size: 64
    - path: nodes/7net/ev/0/EnergyVolumeCurve/results.csv
      hash: md5
      md5: 20c75c5b6c2a6ae49483819f8b73c615
      size: 3472
  7net_struct_optim_2_0_StructureOptimization:
    cmd: zntrack run mlipx.nodes.structure_optimization.StructureOptimization --name
      7net_struct_optim_2_0_StructureOptimization
    deps:
    - path: nodes/7net/md/0/MolecularDynamics/frames.xyz
      hash: md5
      md5: aa3bca9f12f292497b4cc06dea9529d9
      size: 814421
    - path: nodes/7net/md/0/MolecularDynamics/observer_metrics.json
      hash: md5
      md5: 99d1bc2c8fde362f1c1b8ccf64ceac4c
      size: 28
    - path: nodes/7net/md/0/MolecularDynamics/plots.csv
      hash: md5
      md5: a685efe115be6deba2098b09a7aa4616
      size: 19
    params:
      params.yaml:
        7net_struct_optim_2_0_StructureOptimization:
          data_id: -1
          fmax: 0.1
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: SevenNetCalculator
            device: auto
            kwargs:
              model: 7net-0
            module: sevenn.sevennet_calculator
          optimizer: LBFGS
          steps: 100000000
    outs:
    - path: nodes/7net/struct_optim_2/0/StructureOptimization/frames.traj
      hash: md5
      md5: 3174e3dd6d3595f0d77a404dccc15273
      size: 36386
    - path: nodes/7net/struct_optim_2/0/StructureOptimization/node-meta.json
      hash: md5
      md5: d3c6d6f7320cd1d4d788314723b76e01
      size: 64
    - path: nodes/7net/struct_optim_2/0/StructureOptimization/plots.csv
      hash: md5
      md5: 4365a169490b524a357b953b991e04ba
      size: 337
  mace_agne_ev_0_EnergyVolumeCurve:
    cmd: zntrack run mlipx.nodes.energy_volume.EnergyVolumeCurve --name mace_agne_ev_0_EnergyVolumeCurve
    deps:
    - path: nodes/mptraj/LoadDataFile/node-meta.json
      hash: md5
      md5: 18e8a897f5e9091b19c953dbe8b6239c
      size: 64
    params:
      params.yaml:
        mace_agne_ev_0_EnergyVolumeCurve:
          data_id: 0
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: MACECalculator
            device: auto
            kwargs:
              model_paths: ../models/mace_agnesi.model
            module: mace.calculators
          n_points: 50
          start: 0.75
          stop: 2.0
    outs:
    - path: nodes/mace_agne/ev/0/EnergyVolumeCurve/frames.xyz
      hash: md5
      md5: c58dac43ade6ce229836744358a86748
      size: 269587
    - path: nodes/mace_agne/ev/0/EnergyVolumeCurve/node-meta.json
      hash: md5
      md5: e6f618386de697b36924d0eeff97312b
      size: 64
    - path: nodes/mace_agne/ev/0/EnergyVolumeCurve/results.csv
      hash: md5
      md5: 823501e17c91cdeea859203b1159c8cc
      size: 3932
  rattle_Rattle:
    cmd: zntrack run mlipx.nodes.rattle.Rattle --name rattle_Rattle
    deps:
    - path: nodes/mptraj/LoadDataFile/node-meta.json
      hash: md5
      md5: 18e8a897f5e9091b19c953dbe8b6239c
      size: 64
    params:
      params.yaml:
        rattle_Rattle:
          seed: 42
          stdev: 0.01
    outs:
    - path: nodes/rattle/Rattle/frames.xyz
      hash: md5
      md5: 6ced6755d7804a6adfe7a8d64f49c6b9
      size: 3000
    - path: nodes/rattle/Rattle/node-meta.json
      hash: md5
      md5: ea5e57bab18a2473a207058220b0d2b7
      size: 64
