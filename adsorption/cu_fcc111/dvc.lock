schema: '2.0'
stages:
  initialize_BuildASEslab:
    cmd: zntrack run mlipx.nodes.adsorption.BuildASEslab --name initialize_BuildASEslab
    params:
      params.yaml:
        initialize_BuildASEslab:
          a:
          c: false
          crystal: fcc111
          orthogonal: true
          periodic: true
          size:
          - 3
          - 4
          - 4
          symbol: Cu
          vacuum: 10
    outs:
    - path: nodes/initialize/BuildASEslab/frames.traj
      hash: md5
      md5: 78b6efa9243c938388f89f5bb1828cf6
      size: 2794
    - path: nodes/initialize/BuildASEslab/node-meta.json
      hash: md5
      md5: c735f05598242c1a82160e9b0b05be9b
      size: 154
  initialize_Smiles2Conformers:
    cmd: zntrack run mlipx.nodes.smiles.Smiles2Conformers --name initialize_Smiles2Conformers
    params:
      params.yaml:
        initialize_Smiles2Conformers:
          max_attempts: 1000
          num_confs: 1
          random_seed: 42
          smiles: CCO
    outs:
    - path: nodes/initialize/Smiles2Conformers/frames.xyz
      hash: md5
      md5: e13f90ab5acaf6103b8d9c7c9017e1c6
      size: 531
    - path: nodes/initialize/Smiles2Conformers/node-meta.json
      hash: md5
      md5: 6ba7863549c277f4622fba221e672cde
      size: 154
  initialize_AddAdsorbate:
    cmd: zntrack run mlipx.nodes.adsorption.AddAdsorbate --name initialize_AddAdsorbate
    deps:
    - path: nodes/initialize/Smiles2Conformers/frames.xyz
      hash: md5
      md5: 8aaaf93d21613c36e976fb04fc5dbd58
      size: 369
    - path: nodes/initialize/StructureOptimization/frames.traj
      hash: md5
      md5: 12df581122155f03897c203413d8e2b9
      size: 10023
    - path: nodes/initialize/StructureOptimization/plots.csv
      hash: md5
      md5: 745b03ab641a6f85e6f0d9ae3e54da64
      size: 116
    params:
      params.yaml:
        initialize_AddAdsorbate:
          adsorbate_id: -1
          height: 2.1
          mol_index: 0
          position: all
          slab_id: -1
    outs:
    - path: nodes/initialize/AddAdsorbate/frames.traj
      hash: md5
      md5: 755f65e0e7e851b648c1a45c43618554
      size: 12323
    - path: nodes/initialize/AddAdsorbate/node-meta.json
      hash: md5
      md5: c847de8aa794f0cc3a2db1291cc9f1af
      size: 64
  initialize_StructureOptimization:
    cmd: zntrack run mlipx.nodes.structure_optimization.StructureOptimization --name
      initialize_StructureOptimization
    deps:
    - path: nodes/initialize/BuildASEslab/frames.traj
      hash: md5
      md5: 360a802673ea32615e6ab8688fdc8c59
      size: 2794
    params:
      params.yaml:
        initialize_StructureOptimization:
          data_id: -1
          fmax: 0.05
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: mace_mp
            device: auto
            kwargs:
              model: medium
            module: mace.calculators
          optimizer: LBFGS
          steps: 100000000
    outs:
    - path: nodes/initialize/StructureOptimization/frames.traj
      hash: md5
      md5: 12df581122155f03897c203413d8e2b9
      size: 10023
    - path: nodes/initialize/StructureOptimization/node-meta.json
      hash: md5
      md5: e9b849310fc1167492f85056b8d99e14
      size: 64
    - path: nodes/initialize/StructureOptimization/plots.csv
      hash: md5
      md5: 745b03ab641a6f85e6f0d9ae3e54da64
      size: 116
  initialize_StructureOptimization_1:
    cmd: zntrack run mlipx.nodes.structure_optimization.StructureOptimization --name
      initialize_StructureOptimization_1
    deps:
    - path: nodes/initialize/AddAdsorbate/frames.traj
      hash: md5
      md5: 755f65e0e7e851b648c1a45c43618554
      size: 12323
    params:
      params.yaml:
        initialize_StructureOptimization_1:
          data_id: -1
          fmax: 0.05
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: mace_mp
            device: auto
            kwargs:
              model: medium
            module: mace.calculators
          optimizer: LBFGS
          steps: 100000000
    outs:
    - path: nodes/initialize/StructureOptimization_1/frames.traj
      hash: md5
      md5: d656b22749b85425203d11b3204a1501
      size: 216353
    - path: nodes/initialize/StructureOptimization_1/node-meta.json
      hash: md5
      md5: 47bb5809294eac5f28f9253ca64d2e44
      size: 64
    - path: nodes/initialize/StructureOptimization_1/plots.csv
      hash: md5
      md5: 91c048db20aa61b4b6ff71416f92ed56
      size: 2061
  initialize_RelaxAdsorptionConfigs:
    cmd: zntrack run mlipx.nodes.adsorption.RelaxAdsorptionConfigs --name initialize_RelaxAdsorptionConfigs
    deps:
    - path: nodes/initialize/BuildASEslab/frames.traj
      hash: md5
      md5: 360a802673ea32615e6ab8688fdc8c59
      size: 2794
    - path: nodes/initialize/Smiles2Conformers/frames.xyz
      hash: md5
      md5: 106c9892108d155aaf3f3e0eb456638f
      size: 369
    params:
      params.yaml:
        initialize_RelaxAdsorptionConfigs:
          adsorbate_id: -1
          fmax: 0.05
          height: 2.1
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: mace_mp
            device: auto
            kwargs:
              model: medium
            module: mace.calculators
          mol_index: 0
          optimizer: LBFGS
          position: all
          slab_id: -1
          steps: 300
    outs:
    - path: nodes/initialize/RelaxAdsorptionConfigs/ads_energies.json
      hash: md5
      md5: d37e5b85224f91686f3d52c882b3d1e4
      size: 117
    - path: nodes/initialize/RelaxAdsorptionConfigs/frames.traj
      hash: md5
      md5: 05982703b455355613d88edec093874c
      size: 16349
    - path: nodes/initialize/RelaxAdsorptionConfigs/node-meta.json
      hash: md5
      md5: 0ddac73b66ebd2059d89ef30f09d0e92
      size: 64
    - path: nodes/initialize/RelaxAdsorptionConfigs/relax
      hash: md5
      md5: 8a0ecf7722a7cc64f7f190ebcd112868.dir
      size: 883049
      nfiles: 6
  mace_RelaxAdsorptionConfigs:
    cmd: zntrack run mlipx.nodes.adsorption.RelaxAdsorptionConfigs --name mace_RelaxAdsorptionConfigs
    deps:
    - path: nodes/initialize/BuildASEslab/frames.traj
      hash: md5
      md5: 360a802673ea32615e6ab8688fdc8c59
      size: 2794
    - path: nodes/initialize/Smiles2Conformers/frames.xyz
      hash: md5
      md5: 106c9892108d155aaf3f3e0eb456638f
      size: 369
    params:
      params.yaml:
        mace_RelaxAdsorptionConfigs:
          adsorbate_id: -1
          fmax: 0.05
          height: 2.1
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: mace_mp
            device: auto
            kwargs:
              model: medium
            module: mace.calculators
          mol_index: 0
          optimizer: LBFGS
          position: all
          slab_id: -1
          steps: 300
    outs:
    - path: nodes/mace/RelaxAdsorptionConfigs/ads_energies.json
      hash: md5
      md5: 2a1129e1a6b21b75717e2f59ac980691
      size: 117
    - path: nodes/mace/RelaxAdsorptionConfigs/frames.traj
      hash: md5
      md5: 5fe112b11469ab56366c6c30c609accf
      size: 16403
    - path: nodes/mace/RelaxAdsorptionConfigs/node-meta.json
      hash: md5
      md5: 5352e6b940dc7c70f2c67a9ec054e64a
      size: 64
    - path: nodes/mace/RelaxAdsorptionConfigs/relax
      hash: md5
      md5: 8917a09db598332f755ff57cea17c817.dir
      size: 900313
      nfiles: 6
  mace_RelaxAdsorptionConfigs_1:
    cmd: zntrack run mlipx.nodes.adsorption.RelaxAdsorptionConfigs --name mace_RelaxAdsorptionConfigs_1
    deps:
    - path: nodes/initialize/BuildASEslab/frames.traj
      hash: md5
      md5: 360a802673ea32615e6ab8688fdc8c59
      size: 2794
    - path: nodes/initialize/Smiles2Conformers/frames.xyz
      hash: md5
      md5: 106c9892108d155aaf3f3e0eb456638f
      size: 369
    params:
      params.yaml:
        mace_RelaxAdsorptionConfigs_1:
          adsorbate_id: -1
          fmax: 0.05
          height: 2.1
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: SevenNetCalculator
            device: auto
            kwargs:
              model: 7net-0
            module: sevenn.sevennet_calculator
          mol_index: 0
          optimizer: LBFGS
          position: all
          slab_id: -1
          steps: 300
    outs:
    - path: nodes/mace/RelaxAdsorptionConfigs_1/ads_energies.json
      hash: md5
      md5: 5ad831b3a0e7a8a07e2443d374d1fc2c
      size: 121
    - path: nodes/mace/RelaxAdsorptionConfigs_1/frames.traj
      hash: md5
      md5: 87552d460ebb96cb3e0a5120ca3dc311
      size: 17434
    - path: nodes/mace/RelaxAdsorptionConfigs_1/node-meta.json
      hash: md5
      md5: 7eff49b5e38cbb1b501ee1c4fbb6feee
      size: 64
    - path: nodes/mace/RelaxAdsorptionConfigs_1/relax
      hash: md5
      md5: d32a175b89f6efb658120ea4f8efc934.dir
      size: 616013
      nfiles: 6
  sevenn_RelaxAdsorptionConfigs:
    cmd: zntrack run mlipx.nodes.adsorption.RelaxAdsorptionConfigs --name sevenn_RelaxAdsorptionConfigs
    deps:
    - path: nodes/initialize/BuildASEslab/frames.traj
      hash: md5
      md5: 360a802673ea32615e6ab8688fdc8c59
      size: 2794
    - path: nodes/initialize/Smiles2Conformers/frames.xyz
      hash: md5
      md5: 106c9892108d155aaf3f3e0eb456638f
      size: 369
    params:
      params.yaml:
        sevenn_RelaxAdsorptionConfigs:
          adsorbate_id: -1
          fmax: 0.05
          height: 2.1
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: SevenNetCalculator
            device: auto
            kwargs:
              model: 7net-0
            module: sevenn.sevennet_calculator
          mol_index: 0
          optimizer: LBFGS
          position: all
          slab_id: -1
          steps: 300
    outs:
    - path: nodes/sevenn/RelaxAdsorptionConfigs/ads_energies.json
      hash: md5
      md5: d9b13b3bdae0730c84738a61f19009bc
      size: 121
    - path: nodes/sevenn/RelaxAdsorptionConfigs/frames.traj
      hash: md5
      md5: a79ac441690f6985915f691018101d11
      size: 17507
    - path: nodes/sevenn/RelaxAdsorptionConfigs/node-meta.json
      hash: md5
      md5: 233100acd8403bb387b7d9ff33b9fcdf
      size: 64
    - path: nodes/sevenn/RelaxAdsorptionConfigs/relax
      hash: md5
      md5: 8cfa778ae75eedefc4935c9a90858509.dir
      size: 618698
      nfiles: 6
  sevennet_0_RelaxAdsorptionConfigs:
    cmd: zntrack run mlipx.nodes.adsorption.RelaxAdsorptionConfigs --name sevennet_0_RelaxAdsorptionConfigs
    deps:
    - path: nodes/initialize/BuildASEslab/frames.traj
      hash: md5
      md5: 78b6efa9243c938388f89f5bb1828cf6
      size: 2794
    - path: nodes/initialize/Smiles2Conformers/frames.xyz
      hash: md5
      md5: e13f90ab5acaf6103b8d9c7c9017e1c6
      size: 531
    params:
      params.yaml:
        sevennet_0_RelaxAdsorptionConfigs:
          adsorbate_id: -1
          fmax: 0.05
          height: 2.1
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: SevenNetCalculator
            device: auto
            kwargs:
              model: 7net-0
            module: sevenn.sevennet_calculator
          mol_index: 0
          optimizer: LBFGS
          position: all
          slab_id: -1
          steps: 300
    outs:
    - path: nodes/sevennet/0/RelaxAdsorptionConfigs/ads_energies.json
      hash: md5
      md5: f2effac4a856f02a9a013f0832ee518c
      size: 121
    - path: nodes/sevennet/0/RelaxAdsorptionConfigs/frames.traj
      hash: md5
      md5: 2d78e7867715652a4dce207d4111721d
      size: 18181
    - path: nodes/sevennet/0/RelaxAdsorptionConfigs/node-meta.json
      hash: md5
      md5: ffb3b62c50f71ecafef80e96c57236cb
      size: 155
    - path: nodes/sevennet/0/RelaxAdsorptionConfigs/relax
      hash: md5
      md5: 9535cbfe588ef63d4f6c2b616e81f894.dir
      size: 1045452
      nfiles: 6
  mace_mp_0_RelaxAdsorptionConfigs:
    cmd: zntrack run mlipx.nodes.adsorption.RelaxAdsorptionConfigs --name mace_mp_0_RelaxAdsorptionConfigs
    deps:
    - path: nodes/initialize/BuildASEslab/frames.traj
      hash: md5
      md5: 78b6efa9243c938388f89f5bb1828cf6
      size: 2794
    - path: nodes/initialize/Smiles2Conformers/frames.xyz
      hash: md5
      md5: e13f90ab5acaf6103b8d9c7c9017e1c6
      size: 531
    params:
      params.yaml:
        mace_mp_0_RelaxAdsorptionConfigs:
          adsorbate_id: -1
          fmax: 0.05
          height: 2.1
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: mace_mp
            device: auto
            kwargs:
              model: medium
            module: mace.calculators
          mol_index: 0
          optimizer: LBFGS
          position: all
          slab_id: -1
          steps: 300
    outs:
    - path: nodes/mace_mp/0/RelaxAdsorptionConfigs/ads_energies.json
      hash: md5
      md5: 0d07c59f7ea704d5f8953ef58f8fa250
      size: 116
    - path: nodes/mace_mp/0/RelaxAdsorptionConfigs/frames.traj
      hash: md5
      md5: 3b1d1a4bd05c39f74832fde664fe959a
      size: 17031
    - path: nodes/mace_mp/0/RelaxAdsorptionConfigs/node-meta.json
      hash: md5
      md5: 89cf10d3092867f48df6cc58cc1e0e0b
      size: 155
    - path: nodes/mace_mp/0/RelaxAdsorptionConfigs/relax
      hash: md5
      md5: fd4e57a57ca9b04587854074343be434.dir
      size: 864024
      nfiles: 6
  orb_v2_0_RelaxAdsorptionConfigs:
    cmd: zntrack run mlipx.nodes.adsorption.RelaxAdsorptionConfigs --name orb_v2_0_RelaxAdsorptionConfigs
    deps:
    - path: nodes/initialize/BuildASEslab/frames.traj
      hash: md5
      md5: 78b6efa9243c938388f89f5bb1828cf6
      size: 2794
    - path: nodes/initialize/Smiles2Conformers/frames.xyz
      hash: md5
      md5: e13f90ab5acaf6103b8d9c7c9017e1c6
      size: 531
    params:
      params.yaml:
        orb_v2_0_RelaxAdsorptionConfigs:
          adsorbate_id: -1
          fmax: 0.05
          height: 2.1
          model:
            _cls: models.OrbCalc
            device: auto
            name: orb_v2
          mol_index: 0
          optimizer: LBFGS
          position: all
          slab_id: -1
          steps: 300
    outs:
    - path: nodes/orb_v2/0/RelaxAdsorptionConfigs/ads_energies.json
      hash: md5
      md5: cf1315394318fe23c60a0778a5ae597c
      size: 112
    - path: nodes/orb_v2/0/RelaxAdsorptionConfigs/frames.traj
      hash: md5
      md5: 4ab2bb647fa460dcdaf8dbaf9f353323
      size: 17026
    - path: nodes/orb_v2/0/RelaxAdsorptionConfigs/node-meta.json
      hash: md5
      md5: bfd948e9008c7a964f9d886118f36b0a
      size: 155
    - path: nodes/orb_v2/0/RelaxAdsorptionConfigs/relax
      hash: md5
      md5: 08dc24eab12d9aed6f252856fedf993c.dir
      size: 814243
      nfiles: 6
  mattersim_0_RelaxAdsorptionConfigs:
    cmd: zntrack run mlipx.nodes.adsorption.RelaxAdsorptionConfigs --name mattersim_0_RelaxAdsorptionConfigs
    deps:
    - path: nodes/initialize/BuildASEslab/frames.traj
      hash: md5
      md5: 78b6efa9243c938388f89f5bb1828cf6
      size: 2794
    - path: nodes/initialize/Smiles2Conformers/frames.xyz
      hash: md5
      md5: e13f90ab5acaf6103b8d9c7c9017e1c6
      size: 531
    params:
      params.yaml:
        mattersim_0_RelaxAdsorptionConfigs:
          adsorbate_id: -1
          fmax: 0.05
          height: 2.1
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: MatterSimCalculator
            device: auto
            kwargs:
            module: mattersim.forcefield
          mol_index: 0
          optimizer: LBFGS
          position: all
          slab_id: -1
          steps: 300
    outs:
    - path: nodes/mattersim/0/RelaxAdsorptionConfigs/ads_energies.json
      hash: md5
      md5: a0447bc3a7b6661be9cc7d6d4760df12
      size: 108
    - path: nodes/mattersim/0/RelaxAdsorptionConfigs/frames.traj
      hash: md5
      md5: e08e9bc0e69318249a88b90bac9f95c7
      size: 17059
    - path: nodes/mattersim/0/RelaxAdsorptionConfigs/node-meta.json
      hash: md5
      md5: 0f84b77d04697aa18db6cca10340182e
      size: 155
    - path: nodes/mattersim/0/RelaxAdsorptionConfigs/relax
      hash: md5
      md5: acacb138f0d3efc5cbf3bd6af027f9e4.dir
      size: 753024
      nfiles: 6
